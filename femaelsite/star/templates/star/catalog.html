{% extends 'star/base.html' %}
{% load static %}
{% block content %}
<section class="recipes-section">
    <link type="text/css" href="{% static 'star/css/catalog.css' %}" rel="stylesheet">
    
    <!-- Добавляем блок с кнопками категорий -->
    <div class="category-filter">
        <div class="category-buttons">
            <a href="{% url 'all_recipes' %}" class="category-btn {% if not cat_selected %}active{% endif %}">
                Все рецепты
            </a>

            {% for category in categories %}
            <a href="{{ category.get_absolute_url }}" 
                class="category-btn {% if category.pk == cat_selected %}active{% endif %}">
                {{ category.name }}
            </a>
            {% endfor %}
        </div>
    </div>
    
    <div class="recipes-grid">
        {% for recipe in recipes %}
        <div class="recipe-card">
            <div class="recipe-header">
                <h2>{{ recipe.title }}</h2>
                
                <span class="game-badge">{{ recipe.game }}</span>
            </div>
            
            <div class="recipe-content">
                <div class="ingredients">
                    <h3>Ингредиенты:</h3>
                    <ul>
                        {% for ingredient in recipe.ingredients|slice:":3" %}
                        <li>{{ ingredient }}</li>
                        {% endfor %}
                    </ul>
                </div>
                
                <div class="recipe-effects">
                    <h3>Эффект:</h3>
                    <p>{{ recipe.effect|truncatewords:10  }}</p>
                </div>
            </div>
            
            <div class="recipe-footer">
                <div class="preparation">
                    <h3>Способ приготовления:</h3>
                    <p>{{ recipe.preparation|truncatewords:10 }}</p>
                    <a href="{{ recipe.get_absolute_url }}" class="details-btn">
                        <span>Подробнее</span>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<style>

    /* Добавляем стили для кнопок категорий */
    .category-filter {
        margin-bottom: 30px;
    }

    
    .category-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 15px;
    }
    
    .category-btn {
        padding: 8px 16px;
        background: #f3f3f3;
        border-radius: 20px;
        color: #333;
        text-decoration: none;
        font-size: 14px;
        transition: all 0.3s ease;
        border: 1px solid #ddd;
    }
    
    .category-btn:hover {
        background: #e0e0e0;
    }
    
    .category-btn.active {
        background: #6c5ce7;
        color: white;
        border-color: #6c5ce7;
    }
</style>
{% endblock %}